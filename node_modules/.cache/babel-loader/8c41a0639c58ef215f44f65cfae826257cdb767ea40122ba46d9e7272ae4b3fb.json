{"ast":null,"code":"var _jsxFileName = \"E:\\\\CDAC STUDY MATERIAL\\\\peteria\\\\frontend_code\\\\src\\\\Component\\\\customer\\\\ProductDetail.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport ApiService from \"../../service/ApiService\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass ProductDetail extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      product: {\n        id: -1,\n        name: \"Battery\",\n        price: 500,\n        description: \"\",\n        discount: 0.0,\n        imgUrl: null,\n        role: \"\"\n      }\n    };\n    this.addtocart = () => {\n      let loginData = localStorage.getItem(\"loginDetails\") ? localStorage.getItem(\"loginDetails\") : null;\n      if (loginData) {\n        loginData = JSON.parse(loginData);\n        if (loginData.id) {\n          let cartData = {\n            customerId: loginData.id,\n            productId: this.state.product.id\n          };\n          ApiService.addtoCardAPI(cartData).then(resp => {\n            this.setState({\n              message: \"Item Added to Cart !!!\"\n            });\n            Swal.fire({\n              position: \"center\",\n              icon: \"success\",\n              title: \"item added to cart...\",\n              showConfirmButton: false,\n              timer: 1500\n            });\n          }).catch(err => {\n            alert(err.resp.data.message);\n          });\n        }\n      } else {\n        alert(\"please login\");\n      }\n    };\n  }\n  componentDidMount() {\n    const proId = this.props.location.state.proId;\n    ApiService.getProductDetails(proId).then(response => {\n      this.setState({\n        product: response.data\n      });\n    });\n    let loginData = localStorage.getItem(\"loginDetails\") ? localStorage.getItem(\"loginDetails\") : null;\n    if (loginData) {\n      loginData = JSON.parse(loginData);\n      this.setState({\n        role: loginData.role\n      });\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-4 mb-md-0 mt-3 border border-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row product-gallery mx-1 mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-0\",\n              children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"view overlay rounded z-depth-1 main-img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: this.state.product.imgUrl,\n                  style: {\n                    height: \"600px\",\n                    width: \"600px\"\n                  },\n                  className: \"img-fluid z-depth-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mt-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: this.state.product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2 text-muted text-uppercase small text-lg-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Price: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), \"Rs\", this.state.product.price, \"/-\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Description :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), this.state.product.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), this.state.role === \"admin\" ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-success btn-md mr-1 mb-2\",\n              onClick: () => this.addtocart(),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-shopping-cart pr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this), \"Add to cart\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ProductDetail;","map":{"version":3,"names":["React","Component","ApiService","Swal","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","constructor","arguments","state","product","id","name","price","description","discount","imgUrl","role","addtocart","loginData","localStorage","getItem","JSON","parse","cartData","customerId","productId","addtoCardAPI","then","resp","setState","message","fire","position","icon","title","showConfirmButton","timer","catch","err","alert","data","componentDidMount","proId","props","location","getProductDetails","response","render","className","children","src","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick"],"sources":["E:/CDAC STUDY MATERIAL/peteria/frontend_code/src/Component/customer/ProductDetail.js"],"sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport ApiService from \"../../service/ApiService\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nclass ProductDetail extends Component {\r\n  state = {\r\n    product: {\r\n      id: -1,\r\n      name: \"Battery\",\r\n      price: 500,\r\n      description: \"\",\r\n      discount: 0.0,\r\n      imgUrl: null,\r\n      role: \"\",\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    const proId = this.props.location.state.proId;\r\n\r\n    ApiService.getProductDetails(proId).then((response) => {\r\n      this.setState({ product: response.data });\r\n    });\r\n    let loginData = localStorage.getItem(\"loginDetails\")\r\n      ? localStorage.getItem(\"loginDetails\")\r\n      : null;\r\n\r\n    if (loginData) {\r\n      loginData = JSON.parse(loginData);\r\n      this.setState({ role: loginData.role });\r\n    }\r\n  }\r\n\r\n  addtocart = () => {\r\n    let loginData = localStorage.getItem(\"loginDetails\")\r\n      ? localStorage.getItem(\"loginDetails\")\r\n      : null;\r\n\r\n    if (loginData) {\r\n      loginData = JSON.parse(loginData);\r\n\r\n      if (loginData.id) {\r\n        let cartData = {\r\n          customerId: loginData.id,\r\n          productId: this.state.product.id,\r\n        };\r\n        ApiService.addtoCardAPI(cartData)\r\n          .then((resp) => {\r\n            this.setState({ message: \"Item Added to Cart !!!\" });\r\n            Swal.fire({\r\n              position: \"center\",\r\n              icon: \"success\",\r\n              title: \"item added to cart...\",\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            alert(err.resp.data.message);\r\n          });\r\n      }\r\n    } else {\r\n      alert(\"please login\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"mb-5\">\r\n        <div className=\"row p-3\">\r\n          <div className=\"col-md-6 mb-4 mb-md-0 mt-3 border border-dark\">\r\n            <div className=\"row product-gallery mx-1 mt-3\">\r\n              <div className=\"col-12 mb-0\">\r\n                <figure className=\"view overlay rounded z-depth-1 main-img\">\r\n                  <img\r\n                    src={this.state.product.imgUrl}\r\n                    style={{ height: \"600px\", width: \"600px\" }}\r\n                    className=\"img-fluid z-depth-1\"\r\n                  ></img>\r\n                </figure>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6 mt-5 \">\r\n            <h5>{this.state.product.name}</h5>\r\n            <p className=\"mb-2 text-muted text-uppercase small text-lg-left\"></p>\r\n            <p>\r\n              <b>Price: </b>Rs{this.state.product.price}/-\r\n            </p>\r\n            <p>\r\n              <b>Description :</b>\r\n              {this.state.product.description}\r\n            </p>\r\n            {this.state.role === \"admin\" ? (\r\n              <></>\r\n            ) : (\r\n              <p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-success btn-md mr-1 mb-2\"\r\n                  onClick={() => this.addtocart()}\r\n                >\r\n                  <i className=\"fas fa-shopping-cart pr-2\"></i>Add to cart\r\n                </button>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default ProductDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}