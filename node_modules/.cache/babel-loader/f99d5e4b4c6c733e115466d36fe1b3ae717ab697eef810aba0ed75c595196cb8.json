{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vipin\\\\Desktop\\\\peteria\\\\frontend_code\\\\src\\\\Component\\\\admin\\\\ListAllProduct.js\";\nimport React, { Component } from \"react\";\nimport ApiService from \"../../service/admin/ApiService\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ListAllProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      message: null\n    };\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.editProduct = this.editProduct.bind(this);\n    this.addProduct = this.addProduct.bind(this);\n    this.reloadProductList = this.reloadProductList.bind(this);\n  }\n  componentDidMount() {\n    this.reloadProductList();\n  }\n  reloadProductList() {\n    ApiService.fetchAllProducts().then(resp => {\n      this.setState({\n        products: resp.data\n      });\n      console.log(this.state.products);\n    });\n  }\n  deleteProduct(productId) {\n    ApiService.deleteProduct(productId).then(res => {\n      this.setState({\n        message: \"product deleted successfully.\"\n      });\n      this.setState({\n        products: this.state.products.filter(product => product.id !== productId)\n      });\n      console.log(this.state.products);\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: \"product deleted successfully...\",\n        showConfirmButton: false,\n        timer: 1500\n      });\n    }).catch(err => {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: err.data.message,\n        footer: '<a href=\"\">Why do I have this issue?</a>'\n      });\n      this.props.history.push(\"/admin/products\");\n    });\n  }\n  editProduct(id) {\n    window.localStorage.setItem(\"productId\", id);\n    this.props.history.push(\"/admin/edit-product\");\n  }\n  addProduct() {\n    window.localStorage.removeItem(\"productId\");\n    this.props.history.push(\"/admin/product-add\");\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Product Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" text-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary mx-5 my-2\",\n          onClick: () => this.addProduct(),\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Discount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.discount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-danger m-2 w-75\",\n                onClick: () => this.deleteProduct(product.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-primary m-2 w-75\",\n                onClick: () => this.editProduct(product.id),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ListAllProduct;","map":{"version":3,"names":["React","Component","ApiService","Swal","jsxDEV","_jsxDEV","ListAllProduct","constructor","props","state","products","message","deleteProduct","bind","editProduct","addProduct","reloadProductList","componentDidMount","fetchAllProducts","then","resp","setState","data","console","log","productId","res","filter","product","id","fire","position","icon","title","showConfirmButton","timer","catch","err","text","footer","history","push","window","localStorage","setItem","removeItem","render","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","name","description","price","discount"],"sources":["C:/Users/Vipin/Desktop/peteria/frontend_code/src/Component/admin/ListAllProduct.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport ApiService from \"../../service/admin/ApiService\";\r\nimport Swal from \"sweetalert2\";\r\nclass ListAllProduct extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      message: null,\r\n    };\r\n    this.deleteProduct = this.deleteProduct.bind(this);\r\n    this.editProduct = this.editProduct.bind(this);\r\n    this.addProduct = this.addProduct.bind(this);\r\n    this.reloadProductList = this.reloadProductList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadProductList();\r\n  }\r\n\r\n  reloadProductList() {\r\n    ApiService.fetchAllProducts().then((resp) => {\r\n      this.setState({ products: resp.data });\r\n      console.log(this.state.products);\r\n    });\r\n  }\r\n\r\n  deleteProduct(productId) {\r\n    ApiService.deleteProduct(productId)\r\n      .then((res) => {\r\n        this.setState({ message: \"product deleted successfully.\" });\r\n        this.setState({\r\n          products: this.state.products.filter(\r\n            (product) => product.id !== productId\r\n          ),\r\n        });\r\n        console.log(this.state.products);\r\n        Swal.fire({\r\n          position: \"center\",\r\n          icon: \"success\",\r\n          title: \"product deleted successfully...\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oops...\",\r\n          text: err.data.message,\r\n          footer: '<a href=\"\">Why do I have this issue?</a>',\r\n        });\r\n        this.props.history.push(\"/admin/products\");\r\n      });\r\n  }\r\n\r\n  editProduct(id) {\r\n    window.localStorage.setItem(\"productId\", id);\r\n    this.props.history.push(\"/admin/edit-product\");\r\n  }\r\n\r\n  addProduct() {\r\n    window.localStorage.removeItem(\"productId\");\r\n    this.props.history.push(\"/admin/product-add\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2 className=\"text-center\">Product Details</h2>\r\n        <div className=\" text-end\">\r\n          <button\r\n            className=\"btn btn-primary mx-5 my-2\"\r\n            onClick={() => this.addProduct()}\r\n          >\r\n            Add Product\r\n          </button>\r\n        </div>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              {/* <th>Image</th> */}\r\n              <th>Name</th>\r\n              <th>Description</th>\r\n              <th>Price</th>\r\n              <th>Discount</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.products.map((product) => (\r\n              <tr key={product.id}>\r\n                {/* <td>{product.image}</td> */}\r\n                <td>{product.name}</td>\r\n                <td>{product.description}</td>\r\n                <td>{product.price}</td>\r\n                <td>{product.discount}</td>\r\n\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-sm btn-danger m-2 w-75\"\r\n                    onClick={() => this.deleteProduct(product.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-sm btn-primary m-2 w-75\"\r\n                    onClick={() => this.editProduct(product.id)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListAllProduct;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}